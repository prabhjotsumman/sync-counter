{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///Users/prabhjot/shared-counter-app/src/components/Counter.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ninterface CounterProps {\n  id: string;\n  name: string;\n  value: number;\n  onUpdate: (id: string, newValue: number) => void;\n}\n\nexport default function Counter({ id, name, value, onUpdate }: CounterProps) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [lastAction, setLastAction] = useState<'increment' | 'decrement' | null>(null);\n\n  const handleIncrement = async () => {\n    setIsLoading(true);\n    setLastAction('increment');\n    try {\n      const response = await fetch(`/api/counters/${id}/increment`, {\n        method: 'POST',\n      });\n      \n      if (response.ok) {\n        const updatedCounter = await response.json();\n        onUpdate(id, updatedCounter.value);\n      }\n    } catch (error) {\n      console.error('Error incrementing counter:', error);\n    } finally {\n      setIsLoading(false);\n      // Clear the action indicator after a short delay\n      setTimeout(() => setLastAction(null), 1000);\n    }\n  };\n\n  const handleDecrement = async () => {\n    setIsLoading(true);\n    setLastAction('decrement');\n    try {\n      const response = await fetch(`/api/counters/${id}/decrement`, {\n        method: 'POST',\n      });\n      \n      if (response.ok) {\n        const updatedCounter = await response.json();\n        onUpdate(id, updatedCounter.value);\n      }\n    } catch (error) {\n      console.error('Error decrementing counter:', error);\n    } finally {\n      setIsLoading(false);\n      // Clear the action indicator after a short delay\n      setTimeout(() => setLastAction(null), 1000);\n    }\n  };\n\n  return (\n    <div className={`bg-gray-900 rounded-lg p-8 text-center min-w-[300px] transition-all duration-200 ${\n      lastAction ? 'ring-2 ring-blue-500 ring-opacity-50' : ''\n    }`}>\n      <h3 className=\"text-xl font-semibold text-white mb-6\">{name}</h3>\n      \n      <div className={`text-6xl font-bold mb-8 transition-all duration-300 ${\n        lastAction === 'increment' ? 'text-green-400' : \n        lastAction === 'decrement' ? 'text-red-400' : \n        'text-white'\n      }`}>\n        {value}\n      </div>\n      \n      <div className=\"flex gap-4 justify-center\">\n        <button\n          onClick={handleDecrement}\n          disabled={isLoading}\n          className={`font-bold py-3 px-6 rounded-lg text-xl transition-all duration-200 min-w-[80px] ${\n            isLoading && lastAction === 'decrement'\n              ? 'bg-red-800 text-gray-300 cursor-not-allowed'\n              : 'bg-red-600 hover:bg-red-700 text-white'\n          }`}\n        >\n          –\n        </button>\n        \n        <button\n          onClick={handleIncrement}\n          disabled={isLoading}\n          className={`font-bold py-3 px-6 rounded-lg text-xl transition-all duration-200 min-w-[80px] ${\n            isLoading && lastAction === 'increment'\n              ? 'bg-green-800 text-gray-300 cursor-not-allowed'\n              : 'bg-green-600 hover:bg-green-700 text-white'\n          }`}\n        >\n          +\n        </button>\n      </div>\n      \n      {isLoading && (\n        <div className=\"mt-4 text-gray-400 text-sm flex items-center justify-center gap-2\">\n          <div className=\"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin\"></div>\n          Updating...\n        </div>\n      )}\n      \n      {lastAction && !isLoading && (\n        <div className=\"mt-2 text-xs text-gray-500\">\n          {lastAction === 'increment' ? '✓ Incremented' : '✓ Decremented'}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAWe,SAAS,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAgB;IACzE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoC;IAE/E,MAAM,kBAAkB;QACtB,aAAa;QACb,cAAc;QACd,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,cAAc,EAAE,GAAG,UAAU,CAAC,EAAE;gBAC5D,QAAQ;YACV;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,iBAAiB,MAAM,SAAS,IAAI;gBAC1C,SAAS,IAAI,eAAe,KAAK;YACnC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C,SAAU;YACR,aAAa;YACb,iDAAiD;YACjD,WAAW,IAAM,cAAc,OAAO;QACxC;IACF;IAEA,MAAM,kBAAkB;QACtB,aAAa;QACb,cAAc;QACd,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,cAAc,EAAE,GAAG,UAAU,CAAC,EAAE;gBAC5D,QAAQ;YACV;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,iBAAiB,MAAM,SAAS,IAAI;gBAC1C,SAAS,IAAI,eAAe,KAAK;YACnC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C,SAAU;YACR,aAAa;YACb,iDAAiD;YACjD,WAAW,IAAM,cAAc,OAAO;QACxC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAW,CAAC,iFAAiF,EAChG,aAAa,yCAAyC,IACtD;;0BACA,8OAAC;gBAAG,WAAU;0BAAyC;;;;;;0BAEvD,8OAAC;gBAAI,WAAW,CAAC,oDAAoD,EACnE,eAAe,cAAc,mBAC7B,eAAe,cAAc,iBAC7B,cACA;0BACC;;;;;;0BAGH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS;wBACT,UAAU;wBACV,WAAW,CAAC,gFAAgF,EAC1F,aAAa,eAAe,cACxB,gDACA,0CACJ;kCACH;;;;;;kCAID,8OAAC;wBACC,SAAS;wBACT,UAAU;wBACV,WAAW,CAAC,gFAAgF,EAC1F,aAAa,eAAe,cACxB,kDACA,8CACJ;kCACH;;;;;;;;;;;;YAKF,2BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;oBAAwF;;;;;;;YAK1G,cAAc,CAAC,2BACd,8OAAC;gBAAI,WAAU;0BACZ,eAAe,cAAc,kBAAkB;;;;;;;;;;;;AAK1D","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/prabhjot/shared-counter-app/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Counter from '@/components/Counter';\n\ninterface CounterData {\n  id: string;\n  name: string;\n  value: number;\n}\n\nexport default function Home() {\n  const [counters, setCounters] = useState<CounterData[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchCounters = async () => {\n    try {\n      const response = await fetch('/api/counters');\n      if (response.ok) {\n        const data = await response.json();\n        setCounters(data);\n      } else {\n        setError('Failed to fetch counters');\n      }\n    } catch {\n      setError('Failed to fetch counters');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchCounters();\n  }, []);\n\n  const handleCounterUpdate = (id: string, newValue: number) => {\n    setCounters(prev => \n      prev.map(counter => \n        counter.id === id ? { ...counter, value: newValue } : counter\n      )\n    );\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\n        <div className=\"text-white text-xl\">Loading counters...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-black flex items-center justify-center\">\n        <div className=\"text-red-400 text-xl\">{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black text-white\">\n      <div className=\"container mx-auto px-4 py-12\">\n        <header className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold mb-4\">Shared Counters</h1>\n          <p className=\"text-gray-400 text-lg\">\n            Real-time counters shared across all users\n          </p>\n        </header>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto\">\n          {counters.map((counter) => (\n            <Counter\n              key={counter.id}\n              id={counter.id}\n              name={counter.name}\n              value={counter.value}\n              onUpdate={handleCounterUpdate}\n            />\n          ))}\n        </div>\n\n        <div className=\"text-center mt-12\">\n          <button\n            onClick={fetchCounters}\n            className=\"bg-gray-800 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors duration-200\"\n          >\n            Refresh Counters\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAWe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB,EAAE;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,YAAY;YACd,OAAO;gBACL,SAAS;YACX;QACF,EAAE,OAAM;YACN,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IAEL,MAAM,sBAAsB,CAAC,IAAY;QACvC,YAAY,CAAA,OACV,KAAK,GAAG,CAAC,CAAA,UACP,QAAQ,EAAE,KAAK,KAAK;oBAAE,GAAG,OAAO;oBAAE,OAAO;gBAAS,IAAI;IAG5D;IAEA,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAqB;;;;;;;;;;;IAG1C;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAwB;;;;;;;;;;;IAG7C;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAO,WAAU;;sCAChB,8OAAC;4BAAG,WAAU;sCAA0B;;;;;;sCACxC,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;8BAKvC,8OAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC,6HAAA,CAAA,UAAO;4BAEN,IAAI,QAAQ,EAAE;4BACd,MAAM,QAAQ,IAAI;4BAClB,OAAO,QAAQ,KAAK;4BACpB,UAAU;2BAJL,QAAQ,EAAE;;;;;;;;;;8BASrB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///Users/prabhjot/shared-counter-app/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///Users/prabhjot/shared-counter-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///Users/prabhjot/shared-counter-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}